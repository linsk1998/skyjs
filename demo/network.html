<!-- quirks -->
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
	<meta name="renderer" content="webkit"/>
	<title>网络</title>
	<link href="/linsk1998/ting/master/ting/ting-quirks.css" rel="stylesheet"/>
	<link href="/linsk1998/ting/master/theme/bootstrap/indigo.css" rel="stylesheet"/>
	<script src="../sky.js"></script>
</head>
<body>
<div class="container-fluid">
	<h2>网络功能</h2>
	<h3>Sky.ajax</h3>
	<p>ajax() 方法通过 HTTP 请求加载远程数据。</p>
	<pre><code>Sky.ajax(settings)</code></pre>
	<table class="table table-bordered table-condensed table-striped">
		<thead>
		<tr class="info">
			<th>参数</th><th>描述</th><th>例子</th>
		</tr>
		</thead>
		<tbody class="table-hover">
		<tr>
			<td>url</td><td>发送请求的地址</td><td>"?action=add"</td>
		</tr>
		<tr>
			<td>type</td><td>默认值: "GET")。请求方式 ("POST" 或 "GET")， 默认为 "GET"。</td><td>"POST"</td>
		</tr>
		<tr>
			<td>data</td><td>发送到服务器的数据。将自动转换为请求字符串格式。</td><td>"a=1&b=2&c=3"</td>
		</tr>
		<tr>
			<td>success</td><td>请求成功后的回调函数。</td>
			<td>
<pre><code>function(data){
	console.log(this.status);
}</code></pre>
			</td>
		</tr>
		<tr>
			<td>error</td><td>自动判断 (xml 或 html)。请求失败时调用此函数。</td>
			<td>
<pre><code>function(data){
	console.log(this.status);
}</code></pre></td>
		</tr>
		<tr>
			<td>dataType</td><td>预期服务器返回的数据类型。</td><td>"xml" "json" "text"</td>
		</tr>
		<tr>
			<td>complete</td><td>请求完成后回调函数 (请求成功或失败之后均调用)。</td>
			<td>
<pre><code>function(data){
	console.log(this.status);
}</code></pre></td>
		</tr>
		<tr>
			<td>timeout</td><td>设置请求超时时间（毫秒）。</td><td>3000</td>
		</tr>
		<tr>
			<td>async</td><td>是否异步。</td><td>false</td>
		</tr>
		<tr>
			<td>contentType</td><td>请求类型。</td><td>text/xml</td>
		</tr>
		</tbody>
	</table>
	<h3>Sky.get</h3>
	<h4>语法：</h4>
	<pre><code>$.get(URL,callback,dataType);</code></pre>
	<h4>实例：</h4>
	<pre><code>$.get("?",function(data){alert(data)});</code></pre>
	<a class="btn btn-primary" href='javascript:$.get("?",function(data){alert(data)});void 0'>试一试</a>
	<h3>Sky.post</h3>
	<h4>语法：</h4>
	<pre><code>$.post(URL,data,callback,dataType);</code></pre>
	<h4>实例：</h4>
	<pre><code>$.post("?","a=3",function(data){alert(data)});</code></pre>
	<a class="btn btn-primary" href='javascript:$.post("?","a=3",function(data){alert(data)});void 0'>试一试</a>
	<h3 id="getJSONP">Sky.getJSONP</h3>
	<p>获取JSONP数据</p>
<pre><code>Sky.getJSONP("https://api.douban.com/v2/book/search?q=movie&callback=?",function(data){
	console.log(data);
});</code></pre>
	<a class="btn btn-primary" href='javascript:Sky.getJSONP("https://api.douban.com/v2/book/search?q=movie&callback=?",function(data){console.log(data);});void 0'>试一试</a>
	<h3 id="getScript">Sky.getScript</h3>
	<p>getScript() 方法通过 HTTP GET 请求载入并执行 JavaScript 文件。</p>
	<pre><code>Sky.getScript("http://pv.sohu.com/cityjson?ie=utf-8",function(){alert(returnCitySN.cname)});</code></pre>
	<a class="btn btn-primary" href='javascript:Sky.getScript("http://pv.sohu.com/cityjson?ie=utf-8",function(){alert(returnCitySN.cname)});void 0'>试一试</a>
	<a class="btn btn-primary" href='javascript:Sky.getScript("getCurrentPath.js")'>内部获取路径</a>
</div>
</body>
</html>