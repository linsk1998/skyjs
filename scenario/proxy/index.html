<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
	<meta name="renderer" content="webkit"/>
	<title>Proxy</title>
	<link href="/linsk1998/ting/master/ting/ting-quirks.css" rel="stylesheet"/>
	<link href="/linsk1998/ting/master/theme/bootstrap/indigo.css" rel="stylesheet"/>
	<script src="../../sky.js" type="text/javascript"></script>
	<script src="proxy.js" type="text/javascript"></script>
</head>
<body>
<div class="container-fluid">
	<h2>使用方法</h2>
	<pre><code>var person = {
	name: "张三"
};
var proxy = new Proxy(person, {
	set:function(target, property, value) {
		if(property in target) {
			alert("set "+property+":"+value);
		}else{
			throw "Property \"" + property + "\" does not exist.";
		}
	}
});
proxy.name="李四";</code></pre>
	<script>
		var person = {
			name: "张三"
		};
		var proxy = new Proxy(person, {
			set:function(target, property, value) {
				if(property in target) {
					alert("set "+property+":"+value);
				}else{
					throw "Property \""+property+"\" does not exist.";
				}
			}
		});
	</script>
	<button type="button" class="btn btn-primary" onclick='proxy.name=prompt("修改要测试的值",proxy.name)'>测试</button>
	<h2>使用限制</h2>
	<ul>
		<li>只支持get、set</li>
		<li>target的属性必需先定义</li>
		<li>属性名只能用变量名的规则，如person.name="a"支持，person["@#$^%"]="a"不支持</li>
	</ul>
</div>

</body>
</html>